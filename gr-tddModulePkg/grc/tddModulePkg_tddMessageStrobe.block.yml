id: tddModulePkg_tddMessageStrobe
label: tddMessageStrobe
category: '[tddModulePkg]'

templates:
  imports: from gnuradio import tddModulePkg
  make: tddModulePkg.tddMessageStrobe(${type.size}*${vlen}, (int)(${trx_config}), ${switch_interval_ul}, ${guard_time}, ${switch_interval_dl})

parameters:
- id: type
  label: IO Type
  dtype: enum
  options: [complex, float, int, short, byte]
  option_attributes:
      size: [gr.sizeof_gr_complex, gr.sizeof_float, gr.sizeof_int, gr.sizeof_short,
          gr.sizeof_char]
  hide: part
- id: trx_config
  label: Transceiver config
  dtype: enum
  options: ['0','1','2','3']
  option_labels: ["TX, same time for UL/DL", "TX, diff. time for UL/DL", "RX, same time for UL/DL", "RX, diff. time for UL/DL"]
  default: '0'
- id: switch_interval_ul
  label: Switch Interval(ms)
  dtype: float
  default: 1000
- id: switch_interval_dl
  label: Switch Interval DL (ms)
  dtype: float
  default: 1000
  hide: ${'all' if trx_config == '0' or trx_config == '2' else 'none'}
- id: guard_time
  label: Guard time(ms)
  dtype: float
  default: 100
- id: vlen
  label: Vector Length
  dtype: int
  default: '1'
  hide: ${ 'part' if vlen == 1 else 'none' }

inputs:
- label: in0
  domain: stream
  dtype: byte

outputs:
- label: sw_st_trigger
  domain: message
  optional: true
# - label: usrp_trigger
#   domain: message
#   optional: true
  
file_format: 1
